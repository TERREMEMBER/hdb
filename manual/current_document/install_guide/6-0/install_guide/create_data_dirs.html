<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      Creating the Data Storage Areas |
    inHybrid Database Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="../../stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='../../images/favicon.ico' rel='shortcut icon'>

  <script src="../../javascripts/all.js"></script>
  
</head>

<body class="x6-4 x6-4_install_guide x6-4_install_guide_create_data_dirs has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">

    </script>

     
  <header class="header header-layout">
    <h1 class="logo">
      <a href="../../index.html">inHybrid Database Documentation</a>
    </h1>
    
    <div class="header-links js-bar-links">
      <div class="btn-menu" data-behavior="MenuMobile"></div>
      <div class="header-item"><a href="https://greenplum.org">Back to inHybrid Database</a></div>
      <div class="header-item">
        <a href="https://github.com/greenplum-db/hdb/wiki">Wiki</a>
      </div>
      
    </div>
  </header>


    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="nav-container js-sidenav" role="navigation" >
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    
  <ul>
    
      <li class="">
        <a href="../homenav.html">inspur inHybrid 6.4 Documentation</a>
        

      </li>
    
      <li class="has_submenu">
        <a href="install_guide.html">Installation Guide</a>
        
  <ul>
    
      <li class="">
        <a href="platform-requirements.html">Platform Requirements</a>
        

      </li>
    
      <li class="has_submenu">
        <a href="preinstall_concepts.html">Introduction to inHybrid</a>
        
  <ul>
    
      <li class="">
        <a href="preinstall_concepts.html#topic2">The inHybrid Master</a>
        

      </li>
    
      <li class="">
        <a href="preinstall_concepts.html#topic4">The Segments</a>
        

      </li>
    
      <li class="">
        <a href="preinstall_concepts.html#topic9">The Interconnect</a>
        

      </li>
    
      <li class="">
        <a href="preinstall_concepts.html#topic13">ETL Hosts for Data Loading</a>
        

      </li>
    
  </ul>


      </li>
    
      <li class="has_submenu">
        <a href="capacity_planning.html">Estimating Storage Capacity</a>
        
  <ul>
    
      <li class="">
        <a href="capacity_planning.html#topic2">Calculating Usable Disk Capacity</a>
        

      </li>
    
      <li class="">
        <a href="capacity_planning.html#topic3">Calculating User Data Size</a>
        

      </li>
    
      <li class="">
        <a href="capacity_planning.html#topic4">Calculating Space Requirements for Metadata and Logs</a>
        

      </li>
    
  </ul>


      </li>
    
      <li class="">
        <a href="prep_os.html">Configuring Your Systems</a>
        

      </li>
    
      <li class="">
        <a href="install_hdb.html">Installing the inHybrid Database Software</a>
        

      </li>
    
      <li class="">
        <a href="create_data_dirs.html">Creating the Data Storage Areas</a>
        

      </li>
    
      <li class="has_submenu">
        <a href="validate.html">Validating Your Systems</a>
        
  <ul>
    
      <li class="">
        <a href="validate.html#topic4">Validating Network Performance</a>
        

      </li>
    
      <li class="">
        <a href="validate.html#topic5">Validating Disk I&#x2F;O and Memory Bandwidth</a>
        

      </li>
    
  </ul>


      </li>
    
      <li class="">
        <a href="init_hdb.html">Initializing a inHybrid Database System</a>
        

      </li>
    
      <li class="">
        <a href="install_modules.html">Installing Additional Supplied Modules</a>
        

      </li>
    
      <li class="">
        <a href="localization.html">Configuring Timezone and Localization Settings</a>
        

      </li>
    
      <li class="">
        <a href="upgrading.html">Upgrading from an Earlier inHybrid 6 Release</a>
        

      </li>
    
      <li class="">
        <a href="migrate.html">Migrating Data from inHybrid 4.3 or 5</a>
        

      </li>
    
      <li class="">
        <a href="enable_iptables.html">Enabling iptables (Optional)</a>
        

      </li>
    
      <li class="">
        <a href="apx_mgmt_utils.html">Installation Management Utilities</a>
        

      </li>
    
      <li class="has_submenu">
        <a href="env_var_ref.html">inHybrid Environment Variables</a>
        
  <ul>
    
      <li class="">
        <a href="env_var_ref.html#topic2">Required Environment Variables</a>
        

      </li>
    
      <li class="">
        <a href="env_var_ref.html#topic7">Optional Environment Variables</a>
        

      </li>
    
  </ul>


      </li>
    
      <li class="">
        <a href="ansible-example.html">Example Ansible Playbook</a>
        

      </li>
    
  </ul>


      </li>
    
  </ul>


  </div>
</div>

      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container" style="display: none;">
    Creating the Data Storage Areas
  </h1>

          <div id="js-quick-links" >
            
          </div>
        <div class="to-top" id="js-to-top">
          <a href="create_data_dirs.html#top" title="back to top"></a>
        </div>
        

    <h1 class="title topictitle1">Creating the Data Storage Areas</h1>

  <p class="shortdesc">Describes how to create the directory locations where inHybrid Database data is stored
    for each master, standby, and segment instance.</p>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink">
<strong>Parent topic:</strong> <a class="link" href="install_guide.html" title="Information about installing, configuring, and upgrading inHybrid Database software and configuring inHybrid Database host machines.">Installing and Upgrading inHybrid</a>
</div>
</div>
</div>
<div class="topic nested1" id="topic_wqb_1lc_wp">
      <h2 class="title topictitle2">Creating Data Storage Areas on the Master and Standby Master Hosts</h2>

      <div class="body">
        <p class="p">A data storage area is required on the inHybrid Database master and standby master hosts
          to store inHybrid Database system data such as catalog data and other system metadata. </p>

        <div class="section" id="topic_wqb_1lc_wp__topic_ix1_x1n_tp">
<h3 class="title sectiontitle">To create the data directory location on the master</h3>
          
          <p class="p">The data directory location on the master is different than those on the segments. The
            master does not store any user data, only the system catalog tables and system metadata
            are stored on the master instance, therefore you do not need to designate as much
            storage space as on the segments.</p>

          <ol class="ol" id="topic_wqb_1lc_wp__ol_x3b_clc_wp">
            <li class="li" id="topic_wqb_1lc_wp__ji162541">Create or choose a directory that will serve as your master data
              storage area. This directory should have sufficient disk space for your data and be
              owned by the <samp class="ph codeph">hdbadmin</samp> user and group. For example, run the following
              commands as <samp class="ph codeph">root</samp>:<pre class="pre codeblock"># mkdir -p /data/master</pre>
</li>

            <li class="li" id="topic_wqb_1lc_wp__ji162549">Change ownership of this directory to the <samp class="ph codeph">hdbadmin</samp>
              user. For example:<pre class="pre codeblock"># chown hdbadmin:hdbadmin /data/master</pre>
</li>

            <li class="li" id="topic_wqb_1lc_wp__ji162557">Using <samp class="ph codeph"><a class="xref" href="../utility_guide/ref/hdbssh.html">hdbssh</a></samp>, create the master
              data directory location on your standby master as well. For
              example:<pre class="pre codeblock"># source /usr/local/greenplum-db/greenplum_path.sh 
# hdbssh -h smdw -e 'mkdir -p /data/master'
# hdbssh -h smdw -e 'chown hdbadmin:hdbadmin /data/master'</pre>
</li>

          </ol>

        </div>

      </div>

    </div>


  <div class="topic nested1" id="topic_plx_zps_vhb">
    <h2 class="title topictitle2">Creating Data Storage Areas on Segment Hosts</h2>

    <div class="body">
      <p class="p">Data storage areas are required on the inHybrid Database segment hosts for primary
        segments. Separate storage areas are required for mirror segments.</p>

      <div class="section" id="topic_plx_zps_vhb__topic_tnb_v1n_tp">
<h3 class="title sectiontitle">To create the data directory locations on all segment hosts</h3>
        
        <ol class="ol" id="topic_plx_zps_vhb__ol_otk_xkc_wp">
          <li class="li" id="topic_plx_zps_vhb__ji162571">On the master host, log in as
            <samp class="ph codeph">root</samp>:<pre class="pre codeblock"># su</pre>
</li>

          <li class="li" id="topic_plx_zps_vhb__ji162573">Create a file called <samp class="ph codeph">hostfile_hdbssh_segonly</samp>. This file
            should have only one machine configured host name for each segment host. For example, if
            you have three segment hosts:<pre class="pre codeblock">sdw1
sdw2
sdw3</pre>
</li>

          <li class="li" id="topic_plx_zps_vhb__ji162580">Using <samp class="ph codeph"><a class="xref" href="../utility_guide/ref/hdbssh.html">hdbssh</a></samp>, create the primary and mirror data
            directory locations on all segment hosts at once using the
              <samp class="ph codeph">hostfile_hdbssh_segonly</samp> file you just created. For
            example:<pre class="pre codeblock"># source /usr/local/greenplum-db/greenplum_path.sh 
# hdbssh -f hostfile_hdbssh_segonly -e 'mkdir -p /data/primary'
# hdbssh -f hostfile_hdbssh_segonly -e 'mkdir -p /data/mirror'
# hdbssh -f hostfile_hdbssh_segonly -e 'chown -R hdbadmin /data/*'</pre>
</li>

        </ol>

      </div>

    </div>

  </div>

  <div class="topic nested1" id="topic_cwj_hzb_vhb">
    <h2 class="title topictitle2">Next Steps</h2>

    <div class="body">
      <ul class="ul" id="topic_cwj_hzb_vhb__ul_xsq_jzb_vhb">
        <li class="li"><a class="xref" href="validate.html#topic1" title="Validate your hardware and network performance.">Validating Your Systems</a></li>

        <li class="li"><a class="xref" href="init_hdb.html#topic1" title="Describes how to initialize a inHybrid Database database system.">Initializing a inHybrid Database System</a></li>

      </ul>

    </div>

  </div>

  


        

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    
  </footer>
</div><!--end of container-->

</body>
</html>
