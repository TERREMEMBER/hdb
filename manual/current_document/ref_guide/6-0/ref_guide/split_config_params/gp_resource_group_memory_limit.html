
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
    Greenplum Database Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../../stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="../../../stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='../../../images/favicon.ico' rel='shortcut icon'>
  
</head>

<body class="x6-0 x6-0_ref_guide x6-0_ref_guide_config_params x6-0_ref_guide_config_params_guc-list has-subnav">
<div class="topic nested1" id="gp_resource_group_memory_limit">
<h2 class="title topictitle2">gp_resource_group_memory_limit</h2>
<div class="body">
<div class="note note">
<span class="notetitle">Note:</span> 仅当资源管理设置为资源组时，<samp class="ph codeph">gp_resource_group_memory_limit</samp>服务器配置参数才会生效。
        </div>
<p class="p">标识要分配给每个Greenplum数据库segment节点上的资源组的系统内存资源的最大百分比。
        </p>
<div class="tablenoborder">
<table border="1" cellpadding="4" cellspacing="0" class="table" frame="border" id="gp_resource_group_memory_limit__gp_resource_group_memory_limit_table" rules="all" summary="">
<thead align="left" class="thead">
<tr class="row">
<th class="entry" id="d62161e9953" valign="top" width="33.33333333333333%">取值范围</th>
<th class="entry" id="d62161e9956" valign="top" width="33.33333333333333%">默认值</th>
<th class="entry" id="d62161e9959" valign="top" width="33.33333333333333%">设置分类</th>
</tr>
</thead>
<tbody class="tbody">
<tr class="row">
<td class="entry" headers="d62161e9953" valign="top" width="33.33333333333333%">0.1 - 1.0</td>
<td class="entry" headers="d62161e9956" valign="top" width="33.33333333333333%">0.7</td>
<td class="entry" headers="d62161e9959" valign="top" width="33.33333333333333%">local<p class="p">system</p>
<p class="p">restart</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note note">
<span class="notetitle">Note:</span> 当基于资源组的资源管理处于活动状态时，分配给segment主机的内存将由活动primary segment平均共享。
        当segment为primary时，Greenplum数据库会将内存分配给primary segment。
        即使在故障转移情况下，primary segment的初始内存分配也不会更改。
        这可能导致segment主机使用比<samp class="ph codeph">gp_resource_group_memory_limit</samp>设置允许的更多内存。
        <p class="p">例如，假设您的Greenplum数据库群集使用默认的<samp class="ph codeph">gp_resource_group_memory_limit</samp>为<samp class="ph codeph">0.7</samp>，
          而名为<samp class="ph codeph">seghost1</samp>的segment主机有4个primary和4个mirror。
          Greenplum数据库在<samp class="ph codeph">seghost1</samp>上为每个primary segment分配整个系统内存的<samp class="ph codeph">(0.7 / 4 = 0.175%)</samp>。
          如果发生故障转移并且<samp class="ph codeph">seghost1</samp>上的两个mirror故障转移成为primary，
          则原始4个primary中的每一个保留其<samp class="ph codeph">0.175</samp>的存储器分配，
          并且两个新的primary segment分别被分配系统内存的<samp class="ph codeph">(0.7 / 6 = 0.116%)</samp>。
          <samp class="ph codeph">seghost1</samp>在这种情况下的总体内存分配是
          </p>
<div class="p">
<pre class="pre codeblock">
0.7 + (0.116 * 2) = 0.932%</pre>
</div>
<p class="p">它高于<samp class="ph codeph">gp_resource_group_memory_limit</samp>设置中配置的百分比。
          </p>
</div>
</div>
</div>
<script type="application/javascript">
window.addEventListener('DOMContentLoaded',function(){
	var tags=document.getElementsByTagName('a');
  for(var i=0;i<tags.length;i++){
	  tags[i].removeAttribute('href');
  }
});
</script>
</body>
</html>
