<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      hdbscp |
    inHybrid Database Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../../stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="../../../stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='../../../images/favicon.ico' rel='shortcut icon'>

  <script src="../../../javascripts/all.js"></script>
  
</head>

<body class="x6-0 x6-0_utility_guide x6-0_utility_guide_admin_utilities x6-0_utility_guide_admin_utilities_hdbscp has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
    </script>

     
  <header class="header header-layout">
    <h1 class="logo">
      <a href="http://47.92.231.67:8080/">inHybrid Database Documentation</a>
    </h1>
    
    <div class="header-links js-bar-links">
      <div class="btn-menu" data-behavior="MenuMobile"></div>
      <div class="header-item"><a href="https://greenplum.org">Back to inHybrid Database</a></div>
      <div class="header-item">
        <a href="https://github.com/greenplum-db/gpdb/wiki">Wiki</a>
      </div>
      
    </div>
  </header>


    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="nav-container js-sidenav" role="navigation" >
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    
  <ul>
    
      <li class="">
        <a href="../../homenav.html">inHybrid数据库 6.0文档</a>
        

      </li>
    
      <li class="has_submenu">
        <a href="../utility_guide.html">工具指南</a>
        
  <ul>
    
      <li class="has_submenu">
        <a href="util_ref.html">管理工具参考</a>
        
  <ul>
    
      <li class="">
        <a href="analyzedb.html">analyzedb</a>
        

      </li>
    
      <li class="">
        <a href="gpactivatestandby.html">gpactivatestandby</a>
        

      </li>
    
      <li class="">
        <a href="hdbaddmirrors.html">hdbaddmirrors</a>
        

      </li>
    
      <li class="">
        <a href="hdbbackup.html">hdbbackup</a>
        

      </li>
    
      <li class="">
        <a href="gpcheck.html">gpcheck</a>
        

      </li>
    
      <li class="">
        <a href="hdbcheckcat.html">hdbcheckcat</a>
        

      </li>
    
      <li class="">
        <a href="hdbcheckperf.html">hdbcheckperf</a>
        

      </li>
    
      <li class="">
        <a href="hdbconfig.html">hdbconfig</a>
        

      </li>
    
      <li class="">
        <a href="hdbdeletesystem.html">hdbdeletesystem</a>
        

      </li>
    
      <li class="">
        <a href="hdbexpand.html">hdbexpand</a>
        

      </li>
    
      <li class="">
        <a href="hdbfdist.html">hdbfdist</a>
        

      </li>
    
      <li class="">
        <a href="hdbinitstandby.html">hdbinitstandby</a>
        

      </li>
    
      <li class="">
        <a href="hdbinitsystem.html">hdbinitsystem</a>
        

      </li>
    
      <li class="">
        <a href="hdbload.html">hdbload</a>
        

      </li>
    
      <li class="">
        <a href="hdblogfilter.html">hdblogfilter</a>
        

      </li>
    
      <li class="">
        <a href="gpmapreduce.html">gpmapreduce</a>
        

      </li>
    
      <li class="">
        <a href="hdbmovemirrors.html">hdbmovemirrors</a>
        

      </li>
    
      <li class="">
        <a href="hdbperfmon_install.html">hdbperfmon_install</a>
        

      </li>
    
      <li class="">
        <a href="hdbpkg.html">hdbpkg</a>
        

      </li>
    
      <li class="">
        <a href="hdbrecoverseg.html">hdbrecoverseg</a>
        

      </li>
    
      <li class="">
        <a href="hdbreload.html">hdbreload</a>
        

      </li>
    
      <li class="">
        <a href="hdbrestore.html">hdbrestore</a>
        

      </li>
    
      <li class="">
        <a href="hdbscp.html">hdbscp</a>
        

      </li>
    
      <li class="">
        <a href="gpseginstall.html">gpseginstall</a>
        

      </li>
    
      <li class="">
        <a href="hdbssh.html">hdbssh</a>
        

      </li>
    
      <li class="">
        <a href="hdbssh-exkeys.html">hdbssh-exkeys</a>
        

      </li>
    
      <li class="">
        <a href="hdbstart.html">hdbstart</a>
        

      </li>
    
      <li class="">
        <a href="hdbstate.html">hdbstate</a>
        

      </li>
    
      <li class="">
        <a href="hdbstop.html">hdbstop</a>
        

      </li>
    
      <li class="">
        <a href="gpsys.html">hdbsys1</a>
        

      </li>
    
      <li class="">
        <a href="pgbouncer.html">pgbouncer</a>
        

      </li>
    
      <li class="">
        <a href="pgbouncer-ini.html">pgbouncer.ini</a>
        

      </li>
    
      <li class="">
        <a href="pgbouncer-admin.html">pgbouncer-admin</a>
        

      </li>
    
      <li class="">
        <a href="../../pxf/ref/pxf.html">pxf</a>
        

      </li>
    
      <li class="">
        <a href="../../pxf/ref/pxf-cluster.html">pxf cluster</a>
        

      </li>
    
  </ul>


      </li>
    
      <li class="has_submenu">
        <a href="../cli_ref.html">客户端工具参考</a>
        
  <ul>
    
      <li class="has_submenu">
        <a href="../client_utilities/ClientUtilitySummary.html">客户端工具摘要</a>
        
  <ul>
    
      <li class="">
        <a href="../client_utilities/clusterdb.html">clusterdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/createdb.html">createdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/createlang.html">createlang</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/createuser.html">createuser</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/dropdb.html">dropdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/droplang.html">droplang</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/dropuser.html">dropuser</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_config.html">pg_config</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_dump.html">pg_dump</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_dumpall.html">pg_dumpall</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_restore.html">pg_restore</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/psql.html">psql</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/reindexdb.html">reindexdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/vacuumdb.html">vacuumdb</a>
        

      </li>
    
  </ul>


      </li>
    
  </ul>


      </li>
    
      <li class="has_submenu">
        <a href="../contrib-programs.html">附加程序</a>
        
  <ul>
    
      <li class="">
        <a href="https://www.postgresql.org/docs/9.4/pgupgrade.html">pg_upgrade</a>
        

      </li>
    
      <li class="">
        <a href="https://www.postgresql.org/docs/9.4/pgxlogdump.html">pg_xlogdump</a>
        

      </li>
    
  </ul>


      </li>
    
  </ul>


      </li>
    
  </ul>


  </div>
</div>

      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container" style="display: none;">
    hdbscp
  </h1>

          <div id="js-quick-links" >
            
          </div>
        <div class="to-top" id="js-to-top">
          <a href="hdbscp.html#top" title="back to top"></a>
        </div>
        

    
    <h1 class="title topictitle1">hdbscp</h1>

    <div class="body">
        <p class="p">一次在多个主机之间复制文件。</p>

        <div class="section" id="topic1__section2">
<h2 class="title sectiontitle">概要</h2>
            
            <pre class="pre codeblock"><strong class="ph b">hdbscp</strong> { <strong class="ph b">-f</strong> <var class="keyword varname">hostfile_hdbssh</var> | <strong class="ph b">-h</strong> <var class="keyword varname">hostname</var> [<strong class="ph b">-h</strong> <var class="keyword varname">hostname</var> ...] } 
                [<strong class="ph b">-J</strong> <var class="keyword varname">character</var>] [<strong class="ph b">-v</strong>] [[<var class="keyword varname">user</var>@]<var class="keyword varname">hostname</var>:]<var class="keyword varname">file_to_copy</var> [...]
                [[<var class="keyword varname">user</var>@]<var class="keyword varname">hostname</var>:]<var class="keyword varname">copy_to_path</var>
                
                <strong class="ph b">hdbscp</strong> <strong class="ph b">-?</strong> 
                
                <strong class="ph b">hdbscp</strong> <strong class="ph b">--version</strong></pre>

        </div>

        <div class="section" id="topic1__section3">
<h2 class="title sectiontitle">描述</h2>
            
            <p class="p"><samp class="ph codeph">hdbscp</samp>工具允许用户使用SCP（安全复制）在一个命令中将一个或多个文件从指定的主机
                复制到其他指定的主机。例如，用户可以同时将文件从inHybrid数据库的Master主机复制到所有的
                Segment主机。</p>

            <p class="p">要指定SCP会话中涉及的主机，请使用<samp class="ph codeph">-f</samp>选项指定包含主机名列表的文件，或使用
                <samp class="ph codeph">-h</samp>选项在命令行上命名单个主机名。至少需要一个主机名（<samp class="ph codeph">-h</samp>）
                或主机文件（<samp class="ph codeph">-f</samp>）。<samp class="ph codeph">-J</samp>选项允许用户指定单个字符来替代
                <samp class="ph codeph">copy from</samp>和<samp class="ph codeph">copy to</samp>的目标字符串中的<var class="keyword varname">hostname</var>。
                如果未指定<samp class="ph codeph">-J</samp>，则默认的替代字符是等号(<samp class="ph codeph">=</samp>)。例如，以下命令
                将从本地主机将<samp class="ph codeph">.bashrc</samp>复制到<samp class="ph codeph">hostfile_hdbssh</samp>中指定的
                所有主机上的<samp class="ph codeph">/home/hdbadmin</samp>：</p>

            <pre class="pre codeblock">hdbscp -f hostfile_hdbssh .bashrc =:/home/hdbadmin</pre>

            <p class="p">如果未在主机列表中指定用户名，或者在文件路径中指定了<var class="keyword varname">user</var><samp class="ph codeph">@</samp>，
                则<samp class="ph codeph">hdbscp</samp>将以当前登录用户的身份复制文件。要确定当前登录的用户，请执行
                <samp class="ph codeph">whoami</samp>命令。默认情况下，登录后<samp class="ph codeph">hdbscp</samp>将转到远程
                主机上会话用户的<samp class="ph codeph">$HOME</samp>。为确保将文件复制到远程主机上的正确位置，
                建议使用绝对路径。
            </p>

            <p class="p">在使用<samp class="ph codeph">hdbscp</samp>之前，用户必须在涉及SCP会话的主机之间建立可信的主机设置。
                用户可以使用工具<samp class="ph codeph">hdbssh-exkeys</samp>更新已知的主机文件并在主机之间交换公钥
                （如果尚未这样做的话）。</p>

        </div>

        <div class="section" id="topic1__section4">
<h2 class="title sectiontitle">选项</h2>
            
            <dl class="dl parml">
                
                    <dt class="dt pt dlterm">-f <var class="keyword varname">hostfile_hdbssh</var>
</dt>

                    <dd class="dd pd">指定包含将参与此SCP会话的主机列表的文件的名称。主机文件的语法是每行一台主机，
                        如下所示：</dd>

                    <dd class="dd pd">
                        <pre class="pre codeblock">&lt;<var class="keyword varname">hostname</var>&gt;</pre>

                    </dd>

                
                
                    <dt class="dt pt dlterm">-h <var class="keyword varname">hostname</var>
</dt>

                    <dd class="dd pd">指定将参与此SCP会话的单个主机名。用户可以多次使用<samp class="ph codeph">-h</samp>选项来指定多个主机名。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-J <var class="keyword varname">character</var>
</dt>

                    <dd class="dd pd">
<samp class="ph codeph">-J</samp>选项允许用户指定单个字符来替代<samp class="ph codeph">copy
                        from</samp>和<samp class="ph codeph">copy to</samp>目标字符串中的<var class="keyword varname">hostname</var>。
                        如果未指定<samp class="ph codeph">-J</samp>，则默认的替代字符是等号（<samp class="ph codeph">=</samp>）。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-v（详细模式）</dt>

                    <dd class="dd pd">可选。除SCP命令输出外还报告其他消息。</dd>

                
                
                    <dt class="dt pt dlterm"><var class="keyword varname">file_to_copy</var></dt>

                    <dd class="dd pd">必需。要复制到其他主机（或文件位置）的文件的文件名（或绝对路径）。这可以是本地主机上的
                        文件或另一台被提及主机上的文件。</dd>

                
                
                    <dt class="dt pt dlterm"><var class="keyword varname">copy_to_path</var></dt>

                    <dd class="dd pd">必需。用户希望将文件复制到指定主机上的路径。如果没有使用绝对路径，文件将被复制到相对
                        于会话用户的<samp class="ph codeph">$HOME</samp>的位置。用户也可以使用等号'<samp class="ph codeph">=</samp>'
                        （或使用<samp class="ph codeph">-J</samp>选项）指定的另一个字符代替<var class="keyword varname">hostname</var>。这将随后在所提供
                        的主机文件（<samp class="ph codeph">-f</samp>）或<samp class="ph codeph">-h</samp>选项中指定的每个主机名中进行替换。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-?（帮助）</dt>

                    <dd class="dd pd">显示在线帮助。</dd>

                
                
                    <dt class="dt pt dlterm">--version</dt>

                    <dd class="dd pd">显示此工具的版本。</dd>

                
            </dl>

        </div>

        <div class="section" id="topic1__section5">
<h2 class="title sectiontitle">示例</h2>
            
            <p class="p">将名为<samp class="ph codeph">installer.tar</samp>的文件复制到文件<samp class="ph codeph">hostfile_hdbssh</samp>
                中的所有主机上的<samp class="ph codeph">/</samp>路径下。
            </p>

            <pre class="pre codeblock">hdbscp -f hostfile_hdbssh installer.tar =:/</pre>

            <p class="p">将名为<var class="keyword varname">myfuncs.so</var>的文件复制到名为<samp class="ph codeph">sdw1</samp>和
                <samp class="ph codeph">sdw2</samp>的主机上的指定位置：</p>

            <pre class="pre codeblock">hdbscp -h sdw1 -h sdw2 myfuncs.so =:/usr/local/greenplum-db/lib</pre>

        </div>

        <div class="section">
<h2 class="title sectiontitle">另见</h2>
            
            <p class="p"><samp class="ph codeph"><a class="xref" href="hdbssh.html#topic1">hdbssh</a></samp>、<samp class="ph codeph"><a class="xref" href="hdbssh-exkeys.html#topic1">hdbssh-exkeys</a></samp></p>

        </div>

    </div>



        

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    
  </footer>
</div><!--end of container-->

</body>
</html>
