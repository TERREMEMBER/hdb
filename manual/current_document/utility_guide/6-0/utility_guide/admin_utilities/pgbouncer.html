<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      pgbouncer |
    inHybrid Database Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../../stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="../../../stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='../../../images/favicon.ico' rel='shortcut icon'>

  <script src="../../../javascripts/all.js"></script>
  
</head>

<body class="x6-0 x6-0_utility_guide x6-0_utility_guide_admin_utilities x6-0_utility_guide_admin_utilities_pgbouncer has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
    </script>

     
  <header class="header header-layout">
    <h1 class="logo">
      <a href="http://47.92.231.67:8080/">inHybrid Database Documentation</a>
    </h1>
    
    <div class="header-links js-bar-links">
      <div class="btn-menu" data-behavior="MenuMobile"></div>
      <div class="header-item"><a href="https://greenplum.org">Back to inHybrid Database</a></div>
      <div class="header-item">
        <a href="https://github.com/greenplum-db/gpdb/wiki">Wiki</a>
      </div>
      
    </div>
  </header>


    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="nav-container js-sidenav" role="navigation" >
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    
  <ul>
    
      <li class="">
        <a href="../../homenav.html">inHybrid数据库 6.0文档</a>
        

      </li>
    
      <li class="has_submenu">
        <a href="../utility_guide.html">工具指南</a>
        
  <ul>
    
      <li class="has_submenu">
        <a href="util_ref.html">管理工具参考</a>
        
  <ul>
    
      <li class="">
        <a href="analyzedb.html">analyzedb</a>
        

      </li>
    
      <li class="">
        <a href="gpactivatestandby.html">gpactivatestandby</a>
        

      </li>
    
      <li class="">
        <a href="hdbaddmirrors.html">hdbaddmirrors</a>
        

      </li>
    
      <li class="">
        <a href="hdbbackup.html">hdbbackup</a>
        

      </li>
    
      <li class="">
        <a href="gpcheck.html">gpcheck</a>
        

      </li>
    
      <li class="">
        <a href="hdbcheckcat.html">hdbcheckcat</a>
        

      </li>
    
      <li class="">
        <a href="hdbcheckperf.html">hdbcheckperf</a>
        

      </li>
    
      <li class="">
        <a href="hdbconfig.html">hdbconfig</a>
        

      </li>
    
      <li class="">
        <a href="hdbdeletesystem.html">hdbdeletesystem</a>
        

      </li>
    
      <li class="">
        <a href="hdbexpand.html">hdbexpand</a>
        

      </li>
    
      <li class="">
        <a href="hdbfdist.html">hdbfdist</a>
        

      </li>
    
      <li class="">
        <a href="hdbinitstandby.html">hdbinitstandby</a>
        

      </li>
    
      <li class="">
        <a href="hdbinitsystem.html">hdbinitsystem</a>
        

      </li>
    
      <li class="">
        <a href="hdbload.html">hdbload</a>
        

      </li>
    
      <li class="">
        <a href="hdblogfilter.html">hdblogfilter</a>
        

      </li>
    
      <li class="">
        <a href="gpmapreduce.html">gpmapreduce</a>
        

      </li>
    
      <li class="">
        <a href="hdbmovemirrors.html">hdbmovemirrors</a>
        

      </li>
    
      <li class="">
        <a href="hdbperfmon_install.html">hdbperfmon_install</a>
        

      </li>
    
      <li class="">
        <a href="hdbpkg.html">hdbpkg</a>
        

      </li>
    
      <li class="">
        <a href="hdbrecoverseg.html">hdbrecoverseg</a>
        

      </li>
    
      <li class="">
        <a href="hdbreload.html">hdbreload</a>
        

      </li>
    
      <li class="">
        <a href="hdbrestore.html">hdbrestore</a>
        

      </li>
    
      <li class="">
        <a href="hdbscp.html">hdbscp</a>
        

      </li>
    
      <li class="">
        <a href="gpseginstall.html">gpseginstall</a>
        

      </li>
    
      <li class="">
        <a href="hdbssh.html">hdbssh</a>
        

      </li>
    
      <li class="">
        <a href="hdbssh-exkeys.html">hdbssh-exkeys</a>
        

      </li>
    
      <li class="">
        <a href="hdbstart.html">hdbstart</a>
        

      </li>
    
      <li class="">
        <a href="hdbstate.html">hdbstate</a>
        

      </li>
    
      <li class="">
        <a href="hdbstop.html">hdbstop</a>
        

      </li>
    
      <li class="">
        <a href="gpsys.html">hdbsys1</a>
        

      </li>
    
      <li class="">
        <a href="pgbouncer.html">pgbouncer</a>
        

      </li>
    
      <li class="">
        <a href="pgbouncer-ini.html">pgbouncer.ini</a>
        

      </li>
    
      <li class="">
        <a href="pgbouncer-admin.html">pgbouncer-admin</a>
        

      </li>
    
      <li class="">
        <a href="../../pxf/ref/pxf.html">pxf</a>
        

      </li>
    
      <li class="">
        <a href="../../pxf/ref/pxf-cluster.html">pxf cluster</a>
        

      </li>
    
  </ul>


      </li>
    
      <li class="has_submenu">
        <a href="../cli_ref.html">客户端工具参考</a>
        
  <ul>
    
      <li class="has_submenu">
        <a href="../client_utilities/ClientUtilitySummary.html">客户端工具摘要</a>
        
  <ul>
    
      <li class="">
        <a href="../client_utilities/clusterdb.html">clusterdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/createdb.html">createdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/createlang.html">createlang</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/createuser.html">createuser</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/dropdb.html">dropdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/droplang.html">droplang</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/dropuser.html">dropuser</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_config.html">pg_config</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_dump.html">pg_dump</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_dumpall.html">pg_dumpall</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_restore.html">pg_restore</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/psql.html">psql</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/reindexdb.html">reindexdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/vacuumdb.html">vacuumdb</a>
        

      </li>
    
  </ul>


      </li>
    
  </ul>


      </li>
    
      <li class="has_submenu">
        <a href="../contrib-programs.html">附加程序</a>
        
  <ul>
    
      <li class="">
        <a href="https://www.postgresql.org/docs/9.4/pgupgrade.html">pg_upgrade</a>
        

      </li>
    
      <li class="">
        <a href="https://www.postgresql.org/docs/9.4/pgxlogdump.html">pg_xlogdump</a>
        

      </li>
    
  </ul>


      </li>
    
  </ul>


      </li>
    
  </ul>


  </div>
</div>

      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container" style="display: none;">
    pgbouncer
  </h1>

          <div id="js-quick-links" >
            
          </div>
        <div class="to-top" id="js-to-top">
          <a href="pgbouncer.html#top" title="back to top"></a>
        </div>
        

    <h1 class="title topictitle1">pgbouncer</h1>

    <div class="body">
      <p class="p">管理数据库连接池。</p>

      <div class="section">
<h2 class="title sectiontitle">概要</h2>
        
        <pre class="pre codeblock">pgbouncer [OPTION ...] pgbouncer.ini

  OPTION
   [ -d | --daemon ]
   [ -R | --restart ]
   [ -q | --quiet ]
   [ -v | --verbose ]
   [ {-u | --user}=<var class="keyword varname">username</var> ]

pgbouncer [ -V | --version ] | [ -h | --help ]</pre>

      </div>

      <div class="section">
<h2 class="title sectiontitle">描述</h2>
        
        <p class="p">PgBouncer是inHybrid和PostgreSQL数据库的轻量级连接池管理器。
          gBouncer为每个数据库用户和数据库组合创建一个池。PgBouncer或者为客户端创建一个新的数据库连接，
          或者重用一个现有的连接。当客户端断开连接时，连接被返回到池中以供重用。</p>

        <p class="p">PgBouncer支持PostgreSQL和inHybrid数据库共享的标准连接接口。
          inHybrid数据库客户端程序（例如<samp class="ph codeph">psql</samp>）可以连接到PgBouncer
          正在运行的主机和端口号，而不是直接连接inHybrid数据库的主机或端口号。</p>

        <p class="p">可以通过配置文件声明PgBouncer和他的inHybrid数据库访问。提供的配置文件名
          通常为<samp class="ph codeph">pgbouncer.ini</samp>，供<samp class="ph codeph">pgbouncer</samp>
          命令使用。该配置文件还能提供inHybrid数据库位置信息。<samp class="ph codeph">pgbouncer.ini</samp>
          配置文件也定义了线程数、连接池、授权用户和授权配置信息，另外还有一些其他信息。</p>

        <p class="p">默认情况下，<samp class="ph codeph">pgbouncer</samp>作为一个前端进程运行。可以通过
          启动<samp class="ph codeph">pgbouncer</samp>时指定<samp class="ph codeph">-d</samp>选项来让其
          在后台执行。</p>

        <p class="p"><samp class="ph codeph">pgbouncer</samp>进程被操作系统用户拥有。在启动<samp class="ph codeph">pgbouncer</samp>
          时可以指定一个不同的用户名。</p>

        <p class="p">PgBouncer包括一个类似<samp class="ph codeph">psql</samp>的管理控制台。
          授权用户可以连接到虚拟数据库来监控和管理PgBouncer。也可以通过管理控制台来监控和管理后台进程。
          也可以使用控制台更新和重载PgBouncer配置文件，此时不需要通知或重启该进程。</p>

        <p class="p">有关PgBouncer的更多信息，请参考
          <a class="xref" href="https://pgbouncer.github.io/faq.html" target="_blank">PgBouncer FAQ</a>。</p>

      </div>

      <div class="section">
<h2 class="title sectiontitle">选项</h2>
        
        <dl class="dl parml">
          
            <dt class="dt pt dlterm">-d | --daemon</dt>

            <dd class="dd pd">运行PgBouncer作为守护进程（后台进程）。默认是作为前台进程运行。</dd>

            <dd class="dd pd">作为守护进程启动时，PgBouncer显示启动消息到<samp class="ph codeph">stdout</samp>。
              要禁止显示消息，请添加<samp class="ph codeph">-q</samp>选项。</dd>

            <dd class="dd pd">要关闭PgBouncer守护程序，请登录管理控制台并发出<samp class="ph codeph">SHUTDOWN</samp>命令。
                 </dd>

          
          
            <dt class="dt pt dlterm">-R | --restart </dt>

            <dd class="dd pd">使用指定的命令行参数重新启动PgBouncer。在重新启动期间，维护与数据库的非TLS连接，TLS连接被丢弃。
              </dd>

            <dd class="dd pd">要作为守护程序重新启动PgBouncer，请指定选项<samp class="ph codeph">-Rd</samp>。
              <div class="note note">
<span class="notetitle">Note:</span> 仅在操作系统支持Unix套接字且PgBouncer配置没有
                <samp class="ph codeph">unix_socket_dir</samp>的情况下有效。</div>
</dd>

          
          
            <dt class="dt pt dlterm">-q | --quiet </dt>

            <dd class="dd pd">安静地运行，不在命令行（<samp class="ph codeph">stdout</samp>）上显示消息。</dd>

          
          
            <dt class="dt pt dlterm">-v | --verbose</dt>

            <dd class="dd pd">增加消息详细度。显示额外的消息。可以多次使用。</dd>

          
          
            <dt class="dt pt dlterm">{-u | --user}=<var class="keyword varname">username</var>
</dt>

            <dd class="dd pd">PgBouncer进程假定的<var class="keyword varname">username</var>的身份。</dd>

          
          
            <dt class="dt pt dlterm">-V | --version</dt>

            <dd class="dd pd">显示版本并退出。</dd>

          
          
            <dt class="dt pt dlterm">-h | --help</dt>

            <dd class="dd pd">显示帮助信息并退出。</dd>

          
        </dl>

      </div>

      <div class="section" id="topic1__section7">
<h2 class="title sectiontitle">另见</h2>
      
      <p class="p"><samp class="ph codeph"><a class="xref" href="pgbouncer-ini.html#topic1">pgbouncer.ini</a></samp>、
            <samp class="ph codeph"><a class="xref" href="pgbouncer-admin.html#topic1">pgbouncer-admin</a></samp></p>

    </div>

    </div>

  

        

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    
  </footer>
</div><!--end of container-->

</body>
</html>
