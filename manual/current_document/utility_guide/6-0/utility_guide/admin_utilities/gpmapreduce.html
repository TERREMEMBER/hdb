<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      gpmapreduce |
    inHybrid Database Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../../stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="../../../stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='../../../images/favicon.ico' rel='shortcut icon'>

  <script src="../../../javascripts/all.js"></script>
  
</head>

<body class="x6-0 x6-0_utility_guide x6-0_utility_guide_admin_utilities x6-0_utility_guide_admin_utilities_gpmapreduce has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
    </script>

     
  <header class="header header-layout">
    <h1 class="logo">
      <a href="http://47.92.231.67:8080/">inHybrid Database Documentation</a>
    </h1>
    
    <div class="header-links js-bar-links">
      <div class="btn-menu" data-behavior="MenuMobile"></div>
      <div class="header-item"><a href="https://greenplum.org">Back to inHybrid Database</a></div>
      <div class="header-item">
        <a href="https://github.com/greenplum-db/gpdb/wiki">Wiki</a>
      </div>
      
    </div>
  </header>


    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="nav-container js-sidenav" role="navigation" >
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    
  <ul>
    
      <li class="">
        <a href="../../homenav.html">inHybrid数据库 6.0文档</a>
        

      </li>
    
      <li class="has_submenu">
        <a href="../utility_guide.html">工具指南</a>
        
  <ul>
    
      <li class="has_submenu">
        <a href="util_ref.html">管理工具参考</a>
        
  <ul>
    
      <li class="">
        <a href="analyzedb.html">analyzedb</a>
        

      </li>
    
      <li class="">
        <a href="gpactivatestandby.html">gpactivatestandby</a>
        

      </li>
    
      <li class="">
        <a href="hdbaddmirrors.html">hdbaddmirrors</a>
        

      </li>
    
      <li class="">
        <a href="hdbbackup.html">hdbbackup</a>
        

      </li>
    
      <li class="">
        <a href="gpcheck.html">gpcheck</a>
        

      </li>
    
      <li class="">
        <a href="hdbcheckcat.html">hdbcheckcat</a>
        

      </li>
    
      <li class="">
        <a href="hdbcheckperf.html">hdbcheckperf</a>
        

      </li>
    
      <li class="">
        <a href="hdbconfig.html">hdbconfig</a>
        

      </li>
    
      <li class="">
        <a href="hdbdeletesystem.html">hdbdeletesystem</a>
        

      </li>
    
      <li class="">
        <a href="hdbexpand.html">hdbexpand</a>
        

      </li>
    
      <li class="">
        <a href="hdbfdist.html">hdbfdist</a>
        

      </li>
    
      <li class="">
        <a href="hdbinitstandby.html">hdbinitstandby</a>
        

      </li>
    
      <li class="">
        <a href="hdbinitsystem.html">hdbinitsystem</a>
        

      </li>
    
      <li class="">
        <a href="hdbload.html">hdbload</a>
        

      </li>
    
      <li class="">
        <a href="hdblogfilter.html">hdblogfilter</a>
        

      </li>
    
      <li class="">
        <a href="gpmapreduce.html">gpmapreduce</a>
        

      </li>
    
      <li class="">
        <a href="hdbmovemirrors.html">hdbmovemirrors</a>
        

      </li>
    
      <li class="">
        <a href="hdbperfmon_install.html">hdbperfmon_install</a>
        

      </li>
    
      <li class="">
        <a href="hdbpkg.html">hdbpkg</a>
        

      </li>
    
      <li class="">
        <a href="hdbrecoverseg.html">hdbrecoverseg</a>
        

      </li>
    
      <li class="">
        <a href="hdbreload.html">hdbreload</a>
        

      </li>
    
      <li class="">
        <a href="hdbrestore.html">hdbrestore</a>
        

      </li>
    
      <li class="">
        <a href="hdbscp.html">hdbscp</a>
        

      </li>
    
      <li class="">
        <a href="gpseginstall.html">gpseginstall</a>
        

      </li>
    
      <li class="">
        <a href="hdbssh.html">hdbssh</a>
        

      </li>
    
      <li class="">
        <a href="hdbssh-exkeys.html">hdbssh-exkeys</a>
        

      </li>
    
      <li class="">
        <a href="hdbstart.html">hdbstart</a>
        

      </li>
    
      <li class="">
        <a href="hdbstate.html">hdbstate</a>
        

      </li>
    
      <li class="">
        <a href="hdbstop.html">hdbstop</a>
        

      </li>
    
      <li class="">
        <a href="gpsys.html">hdbsys1</a>
        

      </li>
    
      <li class="">
        <a href="pgbouncer.html">pgbouncer</a>
        

      </li>
    
      <li class="">
        <a href="pgbouncer-ini.html">pgbouncer.ini</a>
        

      </li>
    
      <li class="">
        <a href="pgbouncer-admin.html">pgbouncer-admin</a>
        

      </li>
    
      <li class="">
        <a href="../../pxf/ref/pxf.html">pxf</a>
        

      </li>
    
      <li class="">
        <a href="../../pxf/ref/pxf-cluster.html">pxf cluster</a>
        

      </li>
    
  </ul>


      </li>
    
      <li class="has_submenu">
        <a href="../cli_ref.html">客户端工具参考</a>
        
  <ul>
    
      <li class="has_submenu">
        <a href="../client_utilities/ClientUtilitySummary.html">客户端工具摘要</a>
        
  <ul>
    
      <li class="">
        <a href="../client_utilities/clusterdb.html">clusterdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/createdb.html">createdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/createlang.html">createlang</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/createuser.html">createuser</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/dropdb.html">dropdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/droplang.html">droplang</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/dropuser.html">dropuser</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_config.html">pg_config</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_dump.html">pg_dump</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_dumpall.html">pg_dumpall</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/pg_restore.html">pg_restore</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/psql.html">psql</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/reindexdb.html">reindexdb</a>
        

      </li>
    
      <li class="">
        <a href="../client_utilities/vacuumdb.html">vacuumdb</a>
        

      </li>
    
  </ul>


      </li>
    
  </ul>


      </li>
    
      <li class="has_submenu">
        <a href="../contrib-programs.html">附加程序</a>
        
  <ul>
    
      <li class="">
        <a href="https://www.postgresql.org/docs/9.4/pgupgrade.html">pg_upgrade</a>
        

      </li>
    
      <li class="">
        <a href="https://www.postgresql.org/docs/9.4/pgxlogdump.html">pg_xlogdump</a>
        

      </li>
    
  </ul>


      </li>
    
  </ul>


      </li>
    
  </ul>


  </div>
</div>

      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container" style="display: none;">
    gpmapreduce
  </h1>

          <div id="js-quick-links" >
            
          </div>
        <div class="to-top" id="js-to-top">
          <a href="gpmapreduce.html#top" title="back to top"></a>
        </div>
        

  <h1 class="title topictitle1">gpmapreduce</h1>

  
  <div class="body">
    <p class="p">按照YAML规范文档中的定义运行inHybrid的MapReduce作业。</p>

    <div class="section" id="topic1__section2">
<h2 class="title sectiontitle">概要</h2>
      
      <pre class="pre codeblock"><strong class="ph b">gpmapreduce</strong> <strong class="ph b">-f</strong> <var class="keyword varname">yaml_file</var> [<var class="keyword varname">dbname</var> [<var class="keyword varname">username</var>]] 
        [<strong class="ph b">-k</strong> <var class="keyword varname">name=value</var> | <strong class="ph b">--key</strong> <var class="keyword varname">name=value</var>] 
        [<strong class="ph b">-h</strong> <var class="keyword varname">hostname</var> | <strong class="ph b">--host</strong> <var class="keyword varname">hostname</var>] [<strong class="ph b">-p</strong> <var class="keyword varname">port</var>| <strong class="ph b">--port</strong> <var class="keyword varname">port</var>] 
        [<strong class="ph b">-U</strong> <var class="keyword varname">username</var> | <strong class="ph b">--username</strong> <var class="keyword varname">username</var>] [<strong class="ph b">-W</strong>] [<strong class="ph b">-v</strong>]
        
        <strong class="ph b">gpmapreduce</strong> <strong class="ph b">-x</strong> | <strong class="ph b">--explain</strong> 
        
        <strong class="ph b">gpmapreduce</strong> <strong class="ph b">-X</strong> | <strong class="ph b">--explain-analyze</strong>
        
        <strong class="ph b">gpmapreduce</strong> <strong class="ph b">-V</strong> | <strong class="ph b">--version</strong> 
        
        <strong class="ph b">gpmapreduce</strong> <strong class="ph b">-h</strong> | <strong class="ph b">--help</strong> </pre>

    </div>

    <div class="section" id="topic1__section3">
<h2 class="title sectiontitle">先决条件</h2>
      
      <p class="p">在运行此程序之前，需要执行以下操作：</p>

      <ul class="ul" id="topic1__ul_v5h_bxq_dp">
        <li class="li" id="topic1__kx142094">用户必须在YAML文件中定义用户的MapReduce作业。
          有关inHybrid MapReduce规范的信息，请参阅<em class="ph i">inHybrid数据库参考指南</em>。</li>

        <li class="li" id="topic1__kx141300">用户必须是inHybrid数据库超级用户才能运行使用不可信Perl或Python
          编写的MapReduce作业。
        </li>

        <li class="li" id="topic1__kx141310">用户必须是inHybrid数据库超级用户才能运行带有<samp class="ph codeph">EXEC</samp>
          和<samp class="ph codeph">FILE</samp>输入的MapReduce作业。</li>

        <li class="li" id="topic1__kx141334">用户必须是inHybrid数据库超级用户才能运行带有<samp class="ph codeph">GPFDIST</samp>
          输入的MapReduce作业，除非用户具有适当的权限。有关更多信息，请参阅<em class="ph i">inHybrid数据库参考指南</em>。
        </li>

      </ul>

    </div>

    <div class="section" id="topic1__section4">
<h2 class="title sectiontitle">描述</h2>
      
      <p class="p"><a class="xref" href="https://en.wikipedia.org/wiki/MapReduce" target="_blank">MapReduce</a>是由Google开发的用于在商用服务器阵列上处理和生成大型数据集的编程模型。
        inHybrid MapReduce允许熟悉MapReduce范式的编程人员编写map和reduce函数，并将它们提交给
        inHybrid数据库并行引擎处理。
      </p>

      <p class="p">为了使inHybrid能够处理MapReduce函数，需要在YAML文档中定义函数，然后将其传递到inHybrid 
        MapReduce程序<samp class="ph codeph">gpmapreduce</samp>，以供inHybrid数据库并行引擎执行。inHybrid
        系统负责分布输入数据、在一组机器上执行程序、处理机器故障以及管理所需的机器间通信。</p>

    </div>

    <div class="section" id="topic1__section5">
<h2 class="title sectiontitle">选项</h2>
      
      <dl class="dl parml">
        
          <dt class="dt pt dlterm">-f <var class="keyword varname">yaml_file</var>
</dt>

          <dd class="dd pd">必须。包含inHybrid MapReduce作业定义的YAML文件。请参阅
            <em class="ph i">inHybrid数据库参考指南</em>。</dd>

        
        
          <dt class="dt pt dlterm">-? | --help</dt>

          <dd class="dd pd">显示帮助，然后退出。</dd>

        
        
          <dt class="dt pt dlterm">-V | --version</dt>

          <dd class="dd pd">显示版本信息，然后退出。</dd>

        
        
          <dt class="dt pt dlterm">-v | --verbose</dt>

          <dd class="dd pd">显示详细输出。</dd>

        
        
          <dt class="dt pt dlterm">-x | --explain</dt>

          <dd class="dd pd">不运行MapReduce作业，而是生成解释计划。</dd>

        
        
          <dt class="dt pt dlterm">-X | --explain-analyze</dt>

          <dd class="dd pd">运行MapReduce作业并生成解释 - 分析计划。</dd>

        
        
          <dt class="dt pt dlterm">-k | --keyname=<var class="keyword varname">value</var>
</dt>

          <dd class="dd pd">设置一个YAML变量。需要一个数值。如果未指定变量名称，则默认为“key”。</dd>

        
      </dl>

      <div class="sectiondiv">
        <strong class="ph b">连接选项</strong>
        <dl class="dl parml">
          
            <dt class="dt pt dlterm">-h <var class="keyword varname">host</var> | --host <var class="keyword varname">host</var>
</dt>

            <dd class="dd pd">指定运行inHybrid的Master数据库服务器的机器的主机名。 如果未指定，则从环境变量
              <samp class="ph codeph">PGHOST</samp>读取或默认为localhost。
            </dd>

          
          
            <dt class="dt pt dlterm">-p <var class="keyword varname">port</var> | --port port</dt>

            <dd class="dd pd">指定inHybrid的Master数据库服务器正在侦听连接的TCP端口。 如果未指定，则从环境
              变量<samp class="ph codeph">PGPORT</samp>读取或默认为5432。
            </dd>

          
          
            <dt class="dt pt dlterm">-U <var class="keyword varname">username</var> | --username <var class="keyword varname">username</var>
</dt>

            <dd class="dd pd">T要连接的数据库角色名称。如果未指定，则从环境变量<samp class="ph codeph">PGUSER</samp>
              读取或默认为当前系统用户名。</dd>

          
          
            <dt class="dt pt dlterm">-W | --password</dt>

            <dd class="dd pd">强制口令提示。</dd>

          
        </dl>

      </div>
    </div>

    <div class="section" id="topic1__section7">
<h2 class="title sectiontitle">示例</h2>
      
      <p class="p">运行<samp class="ph codeph">my_yaml.txt</samp>中定义的MapReduce作业，并连接到数据库
        <samp class="ph codeph">mydatabase</samp>：</p>

      <pre class="pre codeblock">gpmapreduce -f my_yaml.txt mydatabase</pre>

    </div>

    <div class="section" id="topic1__section8">
<h2 class="title sectiontitle">另见</h2>
      
      <p class="p"><em class="ph i">inHybrid数据库参考指南</em>中的inHybrid MapReduce规范。</p>

    </div>

  </div>



        

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    
  </footer>
</div><!--end of container-->

</body>
</html>
